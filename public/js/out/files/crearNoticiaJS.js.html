<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>crearNoticiaJS.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/modifiers.crearNoticiaJS.html">modifiers.crearNoticiaJS</a></li>
                                <li><a href="../classes/modifiers.Popper.html">modifiers.Popper</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: crearNoticiaJS.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
* 
* Generador del formulario de crear noticia
*
* @class crearNoticiaJS
* @constructor
*/

$(document).ready(function () {
    creacionDivRow();
  divTitulo = creacionDivCol();
  divTitulo.attr(&quot;id&quot;,&quot;titulo&quot;);  
  $(&#x27;#formularioNot&#x27;).append(divTitulo); 
  
  divGroup = creacionDivClassFormGrup();
  divGroup.attr(&#x27;id&#x27;, &#x27;titul&#x27;);
  $(&#x27;#titulo&#x27;).append(divGroup);     	
  label = creacionLabel(&quot;Titulo: &quot;);
  divGroup.append(label);
  input = creacionInputTitulo();
  $(&#x27;#titul&#x27;).append(input);
 

  divGroup = creacionDivClassFormGrup();
  divGroup.attr(&#x27;id&#x27;, &#x27;fecha&#x27;);
  $(&#x27;#titulo&#x27;).append(divGroup);
  label = creacionLabel(&quot;Fecha:  &quot;);
  divGroup.append(label);
  inputFecha = creacionInputFecha();
  $(&#x27;#fecha&#x27;).append(inputFecha);

  divGroup = creacionDivClassFormGrup();
  divGroup.attr(&#x27;id&#x27;, &#x27;desc&#x27;);
  $(&#x27;#titulo&#x27;).append(divGroup);    	
  label = creacionLabel(&quot;Descripción:&quot;);
  divGroup.append(label);
  textarea = creacionTextArea();
  $(&#x27;#desc&#x27;).append(textarea);
  
  divImagen = creacionDivCol();
  divImagen.attr(&quot;id&quot;,&quot;imagen&quot;);  
  $(&#x27;#formularioNot&#x27;).append(divImagen); 
  panelBody = creacionDivPanelBody();
  $(&#x27;#imagen&#x27;).append(panelBody);
  adjuntar = creacionDivAdjuntar();
  $(&#x27;.panel-body&#x27;).append(adjuntar);
  label = creacionLabel(&quot;Adjuntar Archivo:&quot;);
  adjuntar.append(label);

  divGroup = creacionDivClassFormGrup();
  divGroup.attr(&#x27;id&#x27;, &#x27;image&#x27;);
  adjuntar.append(divGroup);

  custom = creacionDivClassForm();
  $(&#x27;#image&#x27;).append(custom);

  inputFile = creacionInputFile();
  custom.append(inputFile);

  labelFile = creacionLabelFile();
  custom.append(labelFile);

  label = creacionLabel(&quot;O arrástrelo aquí.&quot;);
  panelBody.append(label);
  div  = creacionInputImagenZone();
  panelBody.append(div);

  label = creacionLabel(&quot;Categoria&quot;)
  categoria = creacionInputCategoria();
  panelBody.append(label);
  panelBody.append(categoria);

  input = creacionCheckboxNoticiaImportante();
  $(&#x27;#formularioNot&#x27;).append(input);
  $( &quot;input[name=&#x27;importante&#x27;]&quot; ).checkboxradio({
        icon: false
  });

  input = creacionInputFechaActualHidden();
  $(&#x27;#formularioNot&#x27;).append(input);


  inputEnviar = creacionInputEnviar();
  $(&#x27;#formularioNot&#x27;).append(inputEnviar); 

   $(&#x27;input[type=file]&#x27;).change(function () {
      var archivo = $(&#x27;input[type=file]&#x27;).val().split(&#x27;\\&#x27;).pop();
      $(&#x27;#archivo&#x27;).text(archivo);
   })

  $(&#x27;#enviarFormulario&#x27;).click(function() {
      $(&#x27;#formularioNoticias&#x27;).submit();
  });
  
  $(&#x27;input[value=Enviar]&#x27;).click(function () {
      $(&#x27;#formularioNoticias&#x27;)[0].reset();
      $(&#x27;#formularioNoticias&#x27;).before(
          &#x27;&lt;div class=&quot;col-md-12 alert alert-success alert-dismissable&quot;&gt;&#x27; +
          &#x27;&lt;button type=&quot;button&quot; class=&quot;close&quot; &#x27; +
          &#x27;data-dismiss=&quot;alert&quot; aria-hidden=&quot;true&quot;&gt;&#x27; +
          &#x27;&amp;times;&#x27; +
          &#x27;&lt;/button&gt;&#x27; +
          &#x27;La Noticia se ha guardado correctamente. Gracias.&#x27; +
          &#x27;&lt;/div&gt;&#x27;);
  });
  
  $(&#x27;input[name=&quot;importante&quot;]&#x27;).click(obtenerFechaActual);
  
});

/**
* 
* Crea un div con la ID y la clase pertinente para realizar la subida de archivos y lo devuelve
*
* @method creacionInputImagenZone
* @return {Object} Devuelve un div para hacer la subida de un archivo
*/
function creacionInputImagenZone(){  	
  var div = $(&#x27;&lt;div&gt;&lt;/div&gt;&#x27;);        
  div.attr(&quot;id&quot;, &quot;drop-zone&quot;);
  div.attr(&quot;class&quot;, &quot;upload-drop-zone&quot;);
  return div;
}

/**
* 
* Crea un input para introducir la fecha de la noticia usando JQuery UI y lo devuelve
*
* @method creacionInputFecha
* @return {Object} Devuelve un input tipo date
*/
function creacionInputFecha(){  	
  var inputFecha = $(&#x27;&lt;input type=&quot;date&quot; name=&quot;fecha&quot; class=&quot;form-control&quot;&gt;&#x27;);        
  $(&#x27;#formularioNoticias&#x27;).append(inputFecha); 
  inputFecha.datepicker({dateFormat: &#x27;yy-mm-dd&#x27;});
  return inputFecha;
}

/**
* 
* Crea un input para introducir el título de la noticia y lo devuelve
*
* @method creacionInputTitulo
* @return {Object} Devuelve un input tipo text
*/
function creacionInputTitulo(){  	
  var input = $(&#x27;&lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;titulo&quot;&gt;&#x27;); 
  return input;
}

/**
* 
* Crea un input para introducir la categoría de la noticia usando JQuery UI y lo devuelve
*
* @method creacionInputCategoria
* @return {Object} Devuelve un input tipo text autocompletable
*/
function creacionInputCategoria(){  	
  var input = $(&#x27;&lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;categoria&quot;&gt;&#x27;);
  
  var categorias = $.parseJSON($.ajax({
      type: &quot;GET&quot;,
      url:  &#x27;categorias&#x27;,
      dataType: &quot;json&quot;, 
      async: false
  }).responseText);

  input.autocomplete({
        source: categorias
  });
  return input;
}

/**
* 
* Crea un input para comprobar si es importante la noticia usando JQuery UI y lo devuelve
*
* @method creacionCheckboxNoticiaImportante
* @return {Object} Devuelve un input tipo checkbox
*/
function creacionCheckboxNoticiaImportante(){  	
  var input = $(&#x27;&lt;div class=&quot;container&quot;&gt; &lt;label class=&quot;col-md-12 checkbox-inline&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;importante&quot; value=&quot;&quot;&gt; ¿Marcar como importante?&lt;/label&gt; &lt;/div&gt;&#x27;); 
  return input;
}


/**
* 
* Crea un input para introducir la fecha actual y lo devuelve
*
* @method creacionInputFechaActualHidden
* @return {Object} Devuelve un input tipo date oculto
*/
function creacionInputFechaActualHidden() {
  var input = $(&#x27;&lt;input name=&quot;fechaActual&quot; type=&quot;hidden&quot;&gt;&lt;/input&gt;&#x27;); 
  return input;
}

/**
* 
* Crea un div para crear una fila de Bootstrap
*
* @method creacionDivRow
*/
function creacionDivRow(){
  var elemento = $(&#x27;&lt;div&gt;&lt;/div&gt;&#x27;);
  elemento.attr(&quot;class&quot;,&quot;row&quot;);  
  elemento.attr(&quot;id&quot;,&quot;formularioNot&quot;);  
  $(&#x27;#formularioNoticias&#x27;).append(elemento);     	
}

/**
* 
* Crea un div con 6 columnas de Bootstrap y lo devuelve
*
* @method creacionDivCol
* @return {Object} Devuelve un div con 6 columnas de Bootstrap
*/
function creacionDivCol(){
  var elemento = $(&#x27;&lt;div&gt;&lt;/div&gt;&#x27;);
  elemento.attr(&quot;class&quot;,&quot;col-md-6&quot;);  
  return elemento;   	
}   

/**
* 
* Crea un div con la clase panel-body de Bootstrap y lo devuelve
*
* @method creacionDivPanelBody
* @return {Object} Devuelve un div con la clase panel-body de Bootstrap
*/
function creacionDivPanelBody(){
  var elemento = $(&#x27;&lt;div&gt;&lt;/div&gt;&#x27;);
  elemento.attr(&quot;class&quot;,&quot;panel-body&quot;);  
  return elemento;   	
} 

/**
* 
* Crea un div con el identificador adjuntarArchivo y lo devuelve
*
* @method creacionDivAdjuntar
* @return {Object} Devuelve un div con el identificador adjuntarArchivo
*/
function creacionDivAdjuntar(){
  var elemento = $(&#x27;&lt;div&gt;&lt;/div&gt;&#x27;);
  elemento.attr(&quot;id&quot;,&quot;adjuntarArchivo&quot;);  
  return elemento;   	
} 

/**
* 
* Crea un div con la clase form-group de Bootstrap y lo devuelve
*
* @method creacionDivClassFormGrup
* @return {Object} Devuelve un div con la clase form-group de Bootstrap
*/
function creacionDivClassFormGrup(){
  var elemento = $(&#x27;&lt;div&gt;&lt;/div&gt;&#x27;);
  elemento.attr(&quot;class&quot;,&quot;form-group&quot;);      	
  return elemento;
}

/**
* 
* Crea un div para adjuntar archivos de Bootstrap y lo devuelve
*
* @method creacionDivClassForm
* @return {Object} Devuelve un div para adjuntar archivos de Bootstrap
*/
function creacionDivClassForm(){
  var elemento = $(&#x27;&lt;div class=&quot;form-control custom-file&quot;&gt;&#x27;);   	
  return elemento;

}

/**
* 
* Crea un input tipo file y lo devuelve
*
* @method creacionInputFile
* @return {Object} Devuelve un input tipo file para obtener el archivo seleccionado por el usuario
*/
function creacionInputFile(){
  var elemento = $(&#x27;&lt;input name=&quot;imagen&quot; type=&quot;file&quot; class=&quot;custom-file-input&quot;&gt;&#x27;);    	
  return elemento;
}

/**
* 
* Crea un label para el input tipo file y lo devuelve
*
* @method creacionLabelFile
* @return {Object} Devuelve un label para el input tipo file
*/
function creacionLabelFile(){
  var elemento = creacionLabel(&quot;Selecciona el archivo&quot;);
  elemento.attr(&#x27;id&#x27;, &quot;archivo&quot;);
  elemento.attr(&#x27;class&#x27;, &quot;custom-file-label&quot;);    	
  return elemento;
}

/**
* 
* Crea un label con el texto pasado como parámetro
*
* @method creacionLabel
* @param {String} texto Texto del label
* @return {Object} Devuelve un label con el texto indicado
*/
function creacionLabel(texto){
  var elemento = $(&#x27;&lt;label&gt;&lt;/label&gt;&#x27;);
  elemento.text(texto); 
  return elemento;
}

/**
* 
* Crea un textArea y lo devuelve
*
* @method creacionTextArea
* @return {Object} Devuelve un input tipo textArea
*/
function creacionTextArea(){
  var elemento = $(&#x27;&lt;textarea class=&quot;descripcion form-control&quot; rows=&quot;3&quot; cols=&quot;3&quot; name=&quot;descripcion&quot;&gt;&lt;/textarea&gt;&#x27;);    	
  return elemento;
}

/**
* 
* Crea un input tipo button y lo devuelve
*
* @method creacionInputEnviar
* @return {Object} Devuelve un input tipo button
*/
function creacionInputEnviar(){
  var elemento = $(&#x27;&lt;div class=&quot;container&quot;&gt; &lt;input class=&quot;btn btn-100&quot; id=&quot;enviarFormulario&quot; type=&quot;button&quot; value=&quot;Enviar&quot;&gt; &lt;/div&gt;&#x27;);    	
  return elemento;
}

/**
* 
* Obtiene la fecha actual y la guarda en un input oculto
*
* @method obtenerFechaActual
*/
function obtenerFechaActual() {
  if($(&#x27;input[name=&quot;importante&quot;]&#x27;).is(&#x27;:checked&#x27;)) {
      $(&#x27;input[name=&quot;fechaActual&quot;]&#x27;).val(&quot;{{ date(&#x27;Y-m-d H:i:s&#x27;) }}&quot;);
  } else {
      $(&#x27;input[name=&quot;fechaActual&quot;]&#x27;).val(&#x27;&#x27;);
  }
}
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
